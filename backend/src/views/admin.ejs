<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tourist Safety Dashboard - TouristSafe Theme</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

    <style>

         .blurred-bg {
            background-image: url(../views/Gemini_Generated_Image_wv0zo1wv0zo1wv0z.png);
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
        }

        /* --- 1. THEME COLORS & FONTS --- */
        :root {
            /* Define the accent colors from your previous prompts */
            --color-nixtio-blue: #4c7cff;
            --color-nixtio-hover: #3963e6;
            --color-nixtio-text: #495057;
            
            /* Define primary dashboard background (Light, blurred theme) */
            --color-bg-primary: #f8f9fa; /* Very light gray/off-white */
            --color-text-dark: #212529; /* Dark text for contrast */
            --color-card-frosted: rgba(255, 255, 255, 0.7);
            --color-border-light: rgba(255, 255, 255, 0.5);
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-primary); /* Light background */
            color: var(--color-text-dark); /* Dark text for readability */
            background-image: url('Gemini_Generated_Image_wv0zo1wv0zo1wv0z (1).png'); /* Placeholder background image */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* Frosted glass effect for the header and cards */
        .frosted-blur-only, .card, .alert-card {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: var(--color-card-frosted);
            border: 1px solid var(--color-border-light);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .brand-logo {
            background-image: linear-gradient(-75deg, #1e293b 30%, #94a3b8 50%, #1e293b 70%);
            background-size: 200% auto;
            color: #000;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: sparkle-animation 4s linear infinite;
        }


        @keyframes sparkle-animation {
            to { background-position: 200% center; }
        }

        /* --- 3. DASHBOARD LAYOUT & COMPONENTS --- */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 240px 1fr;
            gap: 24px;
        }

        .card {
            border-radius: 16px; /* Slightly rounder edges for modern look */
            padding: 24px;
        }

        .sidebar-item-active {
            background-color: var(--color-nixtio-blue);
            color: white !important;
            font-weight: 600;
        }

        .map-container {
            position: relative;
            height: 450px;
            background-color: #d0d7e2; /* Light placeholder for map */
            border-radius: 16px;
            overflow: hidden;
            background-image: url('https://i.imgur.com/rM7YqT1.png');
            background-size: cover;
            background-position: center;
        }

        .alert-item {
            background-color: rgba(255, 255, 255, 0.9);
            border-left: 4px solid;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            color: var(--color-text-dark);
        }

        .alert-item.geo-breach { border-color: #fca311; } /* Orange/Yellow */
        .alert-item.panic-button { border-color: #e63946; } /* Red */
        .alert-item.anomaly-detection { border-color: #4c7cff; } /* Blue */

        .stat-card {
            background-color: var(--color-card-frosted);
            border: 1px solid var(--color-border-light);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        
        /* Ensure the underline starts from a common baseline */
.header-content-wrapper {
    /* Assuming this is the element containing the <nav> */
    /* Must be relative to position the absolute underline div */
    position: relative; 
    /* Adjust this padding-bottom if needed to make space for the underline */
    padding-bottom: 5px; 
}


#nav-underline {
    /* Height is the thickness */
    height: 2px; 
    /* Start position is often 0 or a visually centered point */
    left: 0; 
    /* Ensures it's positioned at the bottom of the relative parent */
    bottom: 0;
}
    </style>
</head>
<body class="blurred-bg min-h-screen font-sans text-gray-800">

 <header class="w-full p-8 flex justify-center z-50">
    <div class="w-full max-w-7xl flex justify-between items-center frosted-input p-4 rounded-full shadow-lg">

        <div class="flex items-center space-x-2">
            <span class="font-bold text-xl brand-logo">TouristSafe</span>
        </div>

        <div class="header-content-wrapper relative"> 
            <nav class="navigation-links hidden md:flex space-x-12 text-gray-300 font-medium z-10">
                <a href="#all-users" class="nav-item  text-gray-800 transition duration-200" data-page="all-users">All Users</a>
                <a href="#alerts" class="nav-item text-gray-800 transition duration-200" data-page="alerts">Alerts</a>
                <a href="#emergency" class="nav-item   text-gray-800 transition duration-200" data-page="emergency">Emergency Alerts</a>
                <a href="#dashboard" class="nav-item active text-gray-800 transition duration-200" data-page="dashboard">Dashboard</a>
            </nav>
            <div id="nav-underline" class="absolute bottom-0 h-0.5 bg-gray-500 rounded-full transition-all duration-300"></div>
        </div>
    
  <div id="user-menu-button" class="relative">
    <button class="text-gray-800 px-3 py-2 rounded-full flex items-center space-x-3 hover:bg-gray-800 hover:text-white">
        <span>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d='M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0'/><path d='M14.5 9.25a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0M17 19.5c-.317-6.187-9.683-6.187-10 0'/></svg>
        </span>
        <span class="font-semibold text-sm">Abhi Gurjar</span> 
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
        </span>
    </button>

    <div id="user-menu-dropdown" 
         class="hidden absolute -right-5 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
        <a href="/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
        <a href="/settings" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
        <a href="/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
    </div>
</div>

    </div>
</header>

   <div class="min-h-screen  p-6 sm:p-8">
    <div class="max-w-full mx-auto flex flex-col lg:flex-row gap-6">
        <div class="flex-grow grid grid-rows-[minmax(0,1fr)_minmax(0,1fr)] grid-cols-1 xl:grid-cols-3 gap-6">

            <div class="bg-white rounded-xl shadow-lg col-span-1 xl:col-span-2 row-span-1 relative min-h-[300px] border border-gray-200">
                <div class="absolute inset-0 bg-gray-300 rounded-xl flex items-center justify-center text-gray-600 font-semibold">
                    Interactive Map/Primary Visualization Placeholder
                </div>
                
                <div class="absolute top-4 left-4 w-full sm:w-1/2 p-2">
                    <input type="text" placeholder="Search Asset ID, Location, or Incident..." class="w-full bg-white/90 border border-gray-300 rounded-xl py-3 px-5 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 shadow-md backdrop-blur-sm transition duration-150">
                </div>
                
                <div class="absolute bottom-4 right-4 bg-white/90 rounded-xl shadow-lg flex flex-col overflow-hidden backdrop-blur-sm divide-y divide-gray-200 border border-gray-200">
                    <button class="text-gray-700 hover:bg-blue-50 p-3 text-xl font-bold transition duration-150">+</button>
                    <button class="text-gray-700 hover:bg-blue-50 p-3 text-xl font-bold transition duration-150">-</button>
                    <button class="text-gray-700 hover:bg-blue-50 p-3 text-xl font-bold transition duration-150">T</button> </div>
            </div>
           <div class="bg-white rounded-xl shadow-lg p-5 row-span-1 border border-gray-200 flex flex-col">
    <h3 class="text-xl font-semibold mb-5 text-gray-800 border-b pb-3 flex items-center space-x-2">
        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
        <span>Real-time Event Log</span>
    </h3>
    
    <div class="space-y-4 overflow-y-auto flex-grow">
        
        <div class="p-3 bg-red-50 rounded-lg border-l-4 border-red-500 flex items-start space-x-3 transition duration-150 hover:shadow-md hover:bg-red-100/50 cursor-pointer">
            <svg class="flex-shrink-0 w-5 h-5 text-red-600 mt-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
            
            <div>
                <p class="text-sm font-bold text-red-800">CRITICAL: Geo-fence Breach</p>
                <p class="text-xs text-gray-700">Breach detected at <strong class="text-red-600">City Hall</strong></p>
                <p class="text-xs text-gray-500 mt-0.5">5 minutes ago</p>
            </div>
            
            <span class="ml-auto text-red-500 text-xs font-semibold animate-pulse">NEW</span>
        </div>
        
        <div class="p-3 bg-orange-50 rounded-lg border-l-4 border-orange-500 flex items-start space-x-3 transition duration-150 hover:shadow-md hover:bg-orange-100/50 cursor-pointer">
            <svg class="flex-shrink-0 w-5 h-5 text-orange-600 mt-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.93 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>

            <div>
                <p class="text-sm font-bold text-orange-800">HIGH: Emergency Activation</p>
                <p class="text-xs text-gray-700">Activation near <strong class="text-orange-600">Central Park</strong> (Asset ID: 4920)</p>
                <p class="text-xs text-gray-500 mt-0.5">10 minutes ago</p>
            </div>
        </div>
        
        <div class="p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-500 flex items-start space-x-3 transition duration-150 hover:shadow-md hover:bg-yellow-100/50 cursor-pointer">
            <svg class="flex-shrink-0 w-5 h-5 text-yellow-600 mt-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 13c-3.03 0-5.5-2.47-5.5-5.5S8.97 6.5 12 6.5s5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5zm0-9c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5z"/></svg>

            <div>
                <p class="text-sm font-bold text-yellow-800">WARNING: Anomaly Detected</p>
                <p class="text-xs text-gray-700">Unusual activity detected in the <strong class="text-yellow-600">Museum Area</strong></p>
                <p class="text-xs text-gray-500 mt-0.5">15 minutes ago</p>
            </div>
        </div>
        
    </div>
</div>
          <div class="col-span-1 xl:col-span-2 row-span-1 grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="bg-transparent hover:bg-white rounded-xl shadow-lg p-6 text-center border border-gray-200 shadow-md 
              transform transition duration-300 ease-in-out 
              hover:scale-101 hover:shadow-xl hover:-translate-y-1">
                    <svg class="h-8 w-8 text-blue-600 mx-auto mb-3" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    <p class="text-gray-500 text-sm font-medium">Active Assets</p>
                    <p class="text-4xl font-extrabold text-gray-900 mt-1">2,500</p>
                </div>
             <div class="bg-transparent hover:bg-white rounded-xl shadow-lg p-6 text-center border border-gray-200 shadow-md 
              transform transition duration-300 ease-in-out 
              hover:scale-101 hover:shadow-xl hover:-translate-y-1">
                    <svg class="h-8 w-8 text-orange-600 mx-auto mb-3" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L1 21h22L12 2zm0 3.99L19.53 19H4.47L12 3.99zM11 10h2v4h-2zm0 5h2v2h-2z"/></svg>
                    <p class="text-gray-500 text-sm font-medium">High-Priority Alerts</p>
                    <p class="text-4xl font-extrabold text-gray-900 mt-1">50</p>
                </div>
                <div class="bg-transparent hover:bg-white rounded-xl shadow-lg p-6 text-center border border-gray-200 shadow-md 
              transform transition duration-300 ease-in-out 
              hover:scale-101 hover:shadow-xl hover:-translate-y-1">
                    <svg class="h-8 w-8 text-red-600 mx-auto mb-3" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                    <p class="text-gray-500 text-sm font-medium">Emergency Pings</p>
                    <p class="text-4xl font-extrabold text-gray-900 mt-1">3</p>
                </div>
                <div class="bg-transparent hover:bg-white rounded-xl shadow-lg p-6 text-center border
              transform transition duration-300 ease-in-out 
              hover:scale-101 hover:shadow-xl hover:-translate-y-1">
                    <svg class="h-8 w-8 text-green-600 mx-auto mb-3" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    <p class="text-gray-500 text-sm font-medium">Resolved Incidents (24h)</p>
                    <p class="text-4xl font-extrabold text-gray-900 mt-1">1</p>
                </div>
            </div>  
            <div class="bg-white rounded-xl shadow-lg p-5 row-span-1 flex flex-col justify-between border border-gray-200">
                <div>
                    <h3 class="text-xl font-semibold mb-3 text-gray-800">Incident Response Workflow</h3>
                    <p class="text-gray-600 text-sm">Automate and streamline the resolution of critical security events.</p>
                </div>
                <button class="bg-transparent text-gray-800 font-semibold py-3 px-6 rounded-full hover:bg-gray-800 hover:text-white text-lg flex items-center justify-center space-x-2 transition duration-200 border w-full mt-4">
                   <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d='M9.728 3H7.5a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h9a2.25 2.25 0 0 0 2.25-2.25V12M9.728 3C10.971 3 12 4.007 12 5.25V7.5a2.25 2.25 0 0 0 2.25 2.25h2.25A2.25 2.25 0 0 1 18.75 12M9.728 3c3.69 0 9.022 5.36 9.022 9'/></svg>
                    <span>Generate Incident Report</span>
                </button>
            </div>
            </div>
        </div>
</div>

<script>

    document.addEventListener('DOMContentLoaded', initializeUnderline);

function initializeUnderline() {
    const underline = document.getElementById('nav-underline');
    const navItems = document.querySelectorAll('.nav-item');
    
    if (!underline || navItems.length === 0) return;

    // --- 1. Find the current active link ---
    let activeLink = document.querySelector('.nav-item.active') || navItems[0];
    
    // --- 2. Function to move the underline ---
    const moveUnderline = (targetElement) => {
        if (!targetElement) return;

        // Get the position of the target link relative to the main document
        const targetRect = targetElement.getBoundingClientRect();
        
        // Get the position of the underline's parent wrapper
        const wrapperRect = underline.parentNode.getBoundingClientRect();

        // Calculate position relative to the wrapper
        const leftPosition = targetRect.left - wrapperRect.left;
        const width = targetRect.width;

        // Apply styles to the underline div
        underline.style.width = `${width}px`;
        underline.style.transform = `translateX(${leftPosition}px)`;
    };

    // --- 3. Initial placement on page load ---
    moveUnderline(activeLink);
    
    // Listen for resize events to reposition the underline (Crucial for responsiveness)
    window.addEventListener('resize', () => moveUnderline(activeLink));

    // --- 4. Add interaction (Hover and Click) ---
    navItems.forEach(item => {
        // Set the active link on click
        item.addEventListener('click', (e) => {
            navItems.forEach(link => link.classList.remove('active'));
            e.currentTarget.classList.add('active');
            activeLink = e.currentTarget;
            moveUnderline(activeLink); // Move to the new active link
        });

        // Move underline on hover (optional professional touch)
        item.addEventListener('mouseenter', (e) => {
            moveUnderline(e.currentTarget);
        });

        // Return underline to the active link on mouse leave
        item.addEventListener('mouseleave', () => {
            moveUnderline(activeLink);
        });
    });
}

 // --- User Dropdown Menu Logic (Click to Toggle) ---
    const userMenuButton = document.getElementById('user-menu-button');
    const userMenuDropdown = document.getElementById('user-menu-dropdown');

    if (userMenuButton) {
        // This toggles the menu's visibility when the button is clicked
        userMenuButton.addEventListener('click', (event) => {
            // This stops the click from also triggering the 'window' listener below
            event.stopPropagation(); 
            userMenuDropdown.classList.toggle('hidden');
        });
    }

    // This closes the menu if you click anywhere else on the page
    window.addEventListener('click', (event) => {
        // If the menu is open and the click was outside of it, close it
        if (!userMenuDropdown.classList.contains('hidden')) {
            userMenuDropdown.classList.add('hidden');
        }
    });
</script>
</body>
</html>